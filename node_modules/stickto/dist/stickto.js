!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unstick=t.stick=void 0;var i,o=n(1),s=(i=o)&&i.__esModule?i:{default:i};var l=[];function r(){if(0!=l.length){for(var e=void 0,t=void 0,n=0;n<l.length;n++){var i=l[n];if(i.shouldStick(i)){e=i;break}}l.forEach(function(e){e.unstick(),e.isInDangerZone()&&(t=e)}),e&&e.stick(),e&&t&&e.smoothSwitch(t)}}document.addEventListener("scroll",r),t.stick=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useClass,i=t.zIndex;r();var o=new s.default(e,n,i);l.unshift(o)},t.unstick=function(e){if(e instanceof s.default)e.destroy(),l.pop(e);else for(var t=0;t<l.length;t++)if(e.$el==e){var n=l[t];n.destroy(),l.pop(n);break}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=0,s=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o++,this.$el=t;var s=window.getComputedStyle(t);this.zIndex="20",i&&(this.zIndex=i),this.classCache="",n?this.classCache=n:this.styleCache={position:s.position,top:s.top,zIndex:s.zIndex},this.$holder=document.createElement("div"),this.$holder.className="auto-generated-stick-holder auto-generated-stick-holder-"+o,this.$el.parentNode.insertBefore(this.$holder,this.$el)}return i(e,[{key:"getBoundingClientRect",value:function(){return this.$el.getBoundingClientRect()}},{key:"getHeight",value:function(){return Number(window.getComputedStyle(this.$el).height.split("px")[0])}},{key:"smoothSwitch",value:function(e){this.$el.style.transform="translateY("+(e.getBoundingClientRect().top-e.getHeight())+"px)"}},{key:"copyStyle",value:function(e,t,n){e[n]!=t[n]&&(e[n]=t[n])}},{key:"destroy",value:function(){this.$holder.parentNode.removeChild(this.$holder),this.$holder=null,this.styleCache=null,this.$el=null,o--}},{key:"isInDangerZone",value:function(){var e=this.$el;"fixed"==this.$holder.style.position&&(e=this.$holder);var t=e.getBoundingClientRect();return t.top>0&&t.top<Number(window.getComputedStyle(e).height.split("px")[0])}},{key:"shouldStick",value:function(){return this.$holder.getBoundingClientRect().top<=0}},{key:"stick",value:function(){var e={position:"fixed",top:"0px",zIndex:this.zIndex};this.copyStyle(this.$holder.style,window.getComputedStyle(this.$el),"height"),this.copyStyle(this.$el.style,e,"position"),this.copyStyle(this.$el.style,e,"top"),this.copyStyle(this.$el.style,e,"zIndex")}},{key:"unstick",value:function(){this.copyStyle(this.$el.style,this.styleCache,"position"),this.copyStyle(this.$el.style,this.styleCache,"top"),this.copyStyle(this.$el.style,this.styleCache,"zIndex"),this.copyStyle(this.$holder.style,{height:"0px"},"height"),this.copyStyle(this.$el.style,{transform:"translateY(0px)"},"transform")}}]),e}();t.default=s}])});
//# sourceMappingURL=stickto.js.map